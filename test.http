@fhirUrl={{$dotenv FHIR_URL}}
GET http://localhost:7071/api/HttpExample?name=World

###
GET {{fhirUrl}}/metadata

###
GET {{fhirUrl}}/PractitionerRole
Authorization: {{$dotenv TOKEN}}

###
POST {{fhirUrl}}/$import
Prefer: respond-async
Content-Type: application/fhir+json
Authorization: {{$dotenv TOKEN}}

{
    "resourceType": "Parameters",
    "parameter": [
        {
            "name": "inputFormat",
            "valueString": "application/fhir+ndjson"
        },
        {
            "name": "mode",
            "valueString": "IncrementalLoad"
        },         
        {
            "name": "input",
            "part": [
                { 
                    "name": "url",
                    "valueUri": "https://st3swm6va3d5km6.blob.core.windows.net/data/2024-07-22-part1.ndjson"
                },
                {
                    "name": "etag",
                    "valueUri": "\"0x8DCD8044993D774\""
                }
            ]
        },
        {
            "name": "input",
            "part": [
                { 
                    "name": "url",
                    "valueUri": "https://st3swm6va3d5km6.blob.core.windows.net/data/2024-07-22-part2.ndjson"
                },
                {
                    "name": "etag",
                    "valueUri": "\"0x8DCD80449949AA5\""
                }
            ]
        }
    ]
}

###
GET {{fhirUrl}}/_operations/import/8
Authorization: {{$dotenv TOKEN}}

###
GET  https://ahdsjdf43tf5zcwks-api1.fhir.azurehealthcareapis.com/_operations/import/8
Authorization: {{$dotenv TOKEN}}

###
#Load batchtable with x number of rows
GET http://localhost:7071/api/PreLoadBatchQueueTableHttp?x=1

###
#Reset batchtable 'imported' rows to 'initiated'
GET http://localhost:7071/api/ResetBatchQueueTableHttp?update=true